# Worklog - NgÃ y 22/12/2025

## ğŸ“… ThÃ´ng tin cÆ¡ báº£n

- **NgÃ y**: 22/12/2025
- **Thá»©**: Thá»© Hai
- **Tuáº§n thá»±c táº­p**: 9/8
- **Thá»i gian lÃ m viá»‡c**: 18:00 - 22:00
- **Mood**: ğŸ˜Š HÃ i lÃ²ng vá»›i viá»‡c tá»± Ä‘á»™ng hÃ³a Frontend deployment.

## ğŸ¯ Má»¥c tiÃªu ngÃ y hÃ´m nay

- [x] HoÃ n thiá»‡n vÃ  kiá»ƒm thá»­ GitHub Actions workflow cho Frontend deployment.
- [x] Äáº£m báº£o IAM Role vÃ  Policies cho GitHub Actions hoáº¡t Ä‘á»™ng Ä‘Ãºng.
- [x] Thiáº¿t láº­p Route53 Ä‘á»ƒ trá» tÃªn miá»n Ä‘Ã£ mua vá» CloudFront.

## ğŸ’¼ CÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n

### 1. HoÃ n thiá»‡n vÃ  Kiá»ƒm thá»­ GitHub Actions cho Frontend â±ï¸ 18:00 - 20:00

- **MÃ´ táº£**: ÄÃ£ tinh chá»‰nh workflow `frontend-deploy.yml` trÃªn GitHub Actions. ThÃªm cÃ¡c bÆ°á»›c Ä‘á»ƒ cÃ i Ä‘áº·t Node.js, cÃ i Ä‘áº·t dependencies, cháº¡y build cho Next.js, sau Ä‘Ã³ upload káº¿t quáº£ build lÃªn S3 vÃ  táº¡o invalidation cho CloudFront. Äáº·c biá»‡t, Ä‘Ã£ cáº¥u hÃ¬nh `configure-aws-credentials` action vá»›i OIDC (OpenID Connect) thay vÃ¬ `AWS_ACCESS_KEY_ID`/`AWS_SECRET_ACCESS_KEY` Ä‘á»ƒ tÄƒng cÆ°á»ng báº£o máº­t vÃ  khÃ´ng lÆ°u trá»¯ thÃ´ng tin xÃ¡c thá»±c nháº¡y cáº£m trá»±c tiáº¿p trong GitHub Secrets. ÄÃ£ thá»±c hiá»‡n nhiá»u láº§n push code Ä‘á»ƒ kiá»ƒm thá»­ workflow.
- **Káº¿t quáº£**: Frontend deployment tá»± Ä‘á»™ng hoÃ n toÃ n thÃ´ng qua GitHub Actions Ä‘Ã£ hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh. Má»—i láº§n push lÃªn nhÃ¡nh `main` sáº½ tá»± Ä‘á»™ng build, deploy vÃ  invalidate cache.
- **Tools/Tech**: GitHub Actions, YAML, IAM Roles, AWS S3, AWS CloudFront, Next.js.

### 2. Cáº¥u hÃ¬nh IAM Role vÃ  Policies cho GitHub Actions â±ï¸ 20:00 - 21:00

- **MÃ´ táº£**: ÄÃ£ táº¡o má»™t IAM Role má»›i trong AWS, thiáº¿t láº­p trust policy Ä‘á»ƒ cho phÃ©p GitHub Actions assume role thÃ´ng qua OIDC. ÄÃ£ gáº¯n cÃ¡c IAM Policies cáº§n thiáº¿t cho role nÃ y (vÃ­ dá»¥: `s3:PutObject`, `s3:DeleteObject`, `s3:GetObject` trÃªn S3 bucket; `cloudfront:CreateInvalidation` cho CloudFront). Äiá»u nÃ y giÃºp GitHub Actions cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng cáº§n thiáº¿t mÃ  khÃ´ng cáº§n credentials dÃ i háº¡n.
- **Káº¿t quáº£**: IAM Role Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘Ãºng, cáº¥p Ä‘á»§ quyá»n cho GitHub Actions mÃ  váº«n Ä‘áº£m báº£o nguyÃªn táº¯c Ä‘áº·c quyá»n tá»‘i thiá»ƒu (least privilege).
- **Tools/Tech**: AWS IAM Console, OIDC.

### 3. Thiáº¿t láº­p Route53 cho tÃªn miá»n tÃ¹y chá»‰nh â±ï¸ 21:00 - 22:00

- **MÃ´ táº£**: ÄÃ£ mua má»™t tÃªn miá»n (placeholder: `myeventplatform.com`). Trong Route53, Ä‘Ã£ táº¡o má»™t hosted zone cho tÃªn miá»n nÃ y. ÄÃ£ táº¡o má»™t Alias record (A record) Ä‘á»ƒ trá» `www.myeventplatform.com` vÃ  `myeventplatform.com` Ä‘áº¿n CloudFront Distribution cá»§a Frontend.
- **Káº¿t quáº£**: Frontend cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c thÃ´ng qua tÃªn miá»n tÃ¹y chá»‰nh, mang láº¡i tráº£i nghiá»‡m chuyÃªn nghiá»‡p hÆ¡n.
- **Tools/Tech**: AWS Route53 Console, Custom Domain.

## ğŸ“š Kiáº¿n thá»©c há»c Ä‘Æ°á»£c

### ğŸ”§ Ká»¹ nÄƒng ká»¹ thuáº­t

- **AWS Services**: IAM (Roles, Policies, OIDC), Route53 (hosted zones, Alias records).
- **DevOps**: CI/CD pipeline hoÃ n chá»‰nh cho Frontend vá»›i GitHub Actions vÃ  AWS.
- **Security**: NÃ¢ng cao báº£o máº­t báº±ng cÃ¡ch sá»­ dá»¥ng OIDC thay vÃ¬ truy cáº­p keys cho CI/CD.

### ğŸ’¡ KhÃ¡i niá»‡m vÃ  lÃ½ thuyáº¿t

- **OIDC (OpenID Connect)**: Hiá»ƒu cÃ¡ch OIDC hoáº¡t Ä‘á»™ng Ä‘á»ƒ xÃ¡c thá»±c vÃ  á»§y quyá»n giá»¯a GitHub Actions vÃ  AWS IAM.
- **DNS Propagation**: Hiá»ƒu vá» thá»i gian cáº§n thiáº¿t Ä‘á»ƒ cÃ¡c thay Ä‘á»•i DNS Ä‘Æ°á»£c cáº­p nháº­t trÃªn toÃ n cáº§u.
- **Least Privilege Principle**: Ãp dá»¥ng nguyÃªn táº¯c báº£o máº­t cÆ¡ báº£n nÃ y trong viá»‡c cáº¥p quyá»n IAM.

### ğŸ¤ Soft Skills

- **Attention to Detail**: Cáº¥u hÃ¬nh IAM vÃ  Route53 yÃªu cáº§u sá»± tá»‰ má»‰ Ä‘á»ƒ trÃ¡nh lá»—i.
- **Perseverance**: Gáº·p má»™t vÃ i lá»—i nhá» vá» quyá»n IAM nhÆ°ng Ä‘Ã£ kiÃªn trÃ¬ tÃ¬m hiá»ƒu vÃ  kháº¯c phá»¥c.

## ğŸš§ KhÃ³ khÄƒn vÃ  giáº£i phÃ¡p

### Váº¥n Ä‘á» 1: Lá»—i IAM permission khi GitHub Actions cá»‘ gáº¯ng deploy

- **MÃ´ táº£**: Khi workflow GitHub Actions cháº¡y, tÃ´i gáº·p lá»—i "Access Denied" khi cá»‘ gáº¯ng upload file lÃªn S3 hoáº·c táº¡o invalidation cho CloudFront.
- **áº¢nh hÆ°á»Ÿng**: QuÃ¡ trÃ¬nh triá»ƒn khai tá»± Ä‘á»™ng bá»‹ tháº¥t báº¡i.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: IAM Role Ä‘Æ°á»£c cáº¥u hÃ¬nh cho GitHub Actions thiáº¿u má»™t sá»‘ quyá»n cáº§n thiáº¿t (`s3:PutObject` hoáº·c `cloudfront:CreateInvalidation`).
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: ÄÃ£ kiá»ƒm tra log cá»§a GitHub Actions Ä‘á»ƒ xem chÃ­nh xÃ¡c hÃ nh Ä‘á»™ng nÃ o bá»‹ tá»« chá»‘i. Sau Ä‘Ã³, chá»‰nh sá»­a IAM Policy gáº¯n vá»›i Role, thÃªm cÃ¡c quyá»n cáº§n thiáº¿t cho cÃ¡c tÃ i nguyÃªn cá»¥ thá»ƒ (S3 bucket, CloudFront Distribution ID).
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: Workflow cháº¡y thÃ nh cÃ´ng vÃ  triá»ƒn khai Frontend tá»± Ä‘á»™ng.
- **BÃ i há»c rÃºt ra**: Khi debug lá»—i IAM, luÃ´n kiá»ƒm tra log chi tiáº¿t Ä‘á»ƒ xÃ¡c Ä‘á»‹nh chÃ­nh xÃ¡c quyá»n thiáº¿u vÃ  chá»‰ cáº¥p nhá»¯ng quyá»n tá»‘i thiá»ƒu cáº§n thiáº¿t.

### Váº¥n Ä‘á» 2: TÃªn miá»n khÃ´ng trá» Ä‘Ãºng vá» CloudFront

- **MÃ´ táº£**: Sau khi cáº¥u hÃ¬nh Alias record trong Route53, tÃªn miá»n váº«n khÃ´ng táº£i Ä‘Æ°á»£c Frontend qua CloudFront.
- **áº¢nh hÆ°á»Ÿng**: NgÆ°á»i dÃ¹ng khÃ´ng thá»ƒ truy cáº­p Frontend qua tÃªn miá»n tÃ¹y chá»‰nh.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: Thá»i gian DNS propagation chÆ°a Ä‘á»§ hoáº·c cÃ³ lá»—i nhá» trong cáº¥u hÃ¬nh CNAME/Alias record.
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: ÄÃ£ kiÃªn nháº«n chá» thÃªm má»™t khoáº£ng thá»i gian (khoáº£ng 30 phÃºt). Äá»“ng thá»i, kiá»ƒm tra láº¡i Alias Target trong Route53 Ä‘á»ƒ Ä‘áº£m báº£o Ä‘Ã£ chá»n Ä‘Ãºng CloudFront Distribution.
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: TÃªn miá»n Ä‘Ã£ trá» thÃ nh cÃ´ng vá» CloudFront vÃ  Frontend hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng.
- **BÃ i há»c rÃºt ra**: DNS propagation cáº§n thá»i gian. LuÃ´n kiá»ƒm tra ká»¹ cÃ¡c giÃ¡ trá»‹ trong Alias/CNAME record.

## ğŸ’­ Suy ngáº«m & Nháº­n thá»©c

### HÃ´m nay cÃ³ gÃ¬ diá»…n ra tá»‘t Ä‘áº¹p?

- HoÃ n thÃ nh CI/CD pipeline cho Frontend, Ä‘Ã¢y lÃ  má»™t bÆ°á»›c tiáº¿n lá»›n vá» DevOps.
- Sá»­ dá»¥ng OIDC cho IAM Role lÃ  má»™t phÆ°Æ¡ng phÃ¡p báº£o máº­t ráº¥t hiá»‡u quáº£.
- Frontend Ä‘Ã£ hoáº¡t Ä‘á»™ng trÃªn tÃªn miá»n tÃ¹y chá»‰nh, mang láº¡i cáº£m giÃ¡c "sáº£n pháº©m thá»±c sá»±".

### Cáº§n cáº£i thiá»‡n Ä‘iá»u gÃ¬?

- Cáº§n táº¡o cÃ¡c mÃ´i trÆ°á»ng staging/production riÃªng biá»‡t trong GitHub Actions Ä‘á»ƒ kiá»ƒm soÃ¡t tá»‘t hÆ¡n.
- NghiÃªn cá»©u cÃ¡ch tá»± Ä‘á»™ng hÃ³a viá»‡c táº¡o vÃ  cáº¥u hÃ¬nh Route53 records thÃ´ng qua CloudFormation.

### ThÃ´ng tin chi tiáº¿t chÃ­nh

- CI/CD vá»›i OIDC vÃ  IAM Roles lÃ  cÃ¡ch an toÃ n vÃ  hiá»‡u quáº£ Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a deployment lÃªn AWS.
- Quáº£n lÃ½ DNS thÃ´ng qua Route53 ráº¥t máº¡nh máº½ nhÆ°ng cáº§n sá»± chÃ­nh xÃ¡c.

### CÃ¢u há»i & Tháº¯c máº¯c

- LÃ m tháº¿ nÃ o Ä‘á»ƒ quáº£n lÃ½ cÃ¡c biáº¿n mÃ´i trÆ°á»ng cho Frontend (Backend API endpoint) khi cÃ³ nhiá»u mÃ´i trÆ°á»ng (dev, staging, prod)?
- CÃ³ best practices nÃ o cho viá»‡c cáº¥u trÃºc cÃ¡c workflow GitHub Actions khi cÃ³ nhiá»u microservices khÃ´ng?

## ğŸ“‹ Káº¿ hoáº¡ch ngÃ y mai

### Nhiá»‡m vá»¥ Æ°u tiÃªn

- [ ] **High**: Báº¯t Ä‘áº§u triá»ƒn khai Page Service lÃªn AWS ECS.
- [ ] **Medium**: Táº¡o ECS Cluster vÃ  Task Definition cÆ¡ báº£n cho Page Service.
- [ ] **Low**: XÃ¡c Ä‘á»‹nh cÃ¡c biáº¿n mÃ´i trÆ°á»ng cáº§n thiáº¿t cho Page Service trong ECS.

### Má»¥c tiÃªu há»c táº­p

- [ ] Äá»c tÃ i liá»‡u vá» AWS ECS (Elastic Container Service).
- [ ] TÃ¬m hiá»ƒu vá» cáº¥u hÃ¬nh Task Definition vÃ  Service trong ECS.

### CÃ¡c cuá»™c há»p vÃ  thá»i háº¡n

- KhÃ´ng cÃ³ cuá»™c há»p cá»‘ Ä‘á»‹nh.

## ğŸ“Š Tá»± Ä‘Ã¡nh giÃ¡

### NÄƒng suáº¥t lÃ m viá»‡c

- **Äiá»ƒm sá»‘**: 9.5/10
- **LÃ½ do**: HoÃ n thÃ nh xuáº¥t sáº¯c vÃ  vÆ°á»£t má»¥c tiÃªu Ä‘áº·t ra, Ä‘áº·c biá»‡t lÃ  viá»‡c triá»ƒn khai thÃ nh cÃ´ng OIDC cho CI/CD, giÃºp tÄƒng cÆ°á»ng báº£o máº­t cho pipeline.
- **CÃ¡ch cáº£i thiá»‡n**: CÃ³ thá»ƒ báº¯t Ä‘áº§u tÃ¬m hiá»ƒu song song vá» AWS ECS Ä‘á»ƒ Ä‘áº©y nhanh tiáº¿n Ä‘á»™ triá»ƒn khai cho pháº§n Backend.

### Há»c táº­p

- **Äiá»ƒm sá»‘**: 9.5/10
- **Kiáº¿n thá»©c má»›i há»c Ä‘Æ°á»£c**: Hiá»ƒu sÃ¢u vá» cÃ¡c khÃ­a cáº¡nh báº£o máº­t OIDC, tá»‘i Æ°u hÃ³a quy trÃ¬nh CI/CD vÃ  ká»¹ nÄƒng quáº£n lÃ½ DNS trong thá»±c táº¿.
- **CÃ¡ch Ã¡p dá»¥ng**: Cáº§n xÃ¢u chuá»—i cÃ¡c kiáº¿n thá»©c Ä‘Æ¡n láº» nÃ y Ä‘á»ƒ cÃ³ cÃ¡i nhÃ¬n tá»•ng thá»ƒ hÆ¡n vá» kiáº¿n trÃºc háº¡ táº§ng (Infrastructure) cá»§a toÃ n dá»± Ã¡n.

### LÃ m viá»‡c nhÃ³m

- **Äiá»ƒm sá»‘**: 8.5/10
- **TÆ°Æ¡ng tÃ¡c**: ÄÃ£ ká»‹p thá»i bÃ¡o cÃ¡o tiáº¿n Ä‘á»™ vÃ  chá»§ Ä‘á»™ng chia sáº» kinh nghiá»‡m triá»ƒn khai OIDC vá»›i cÃ¡c thÃ nh viÃªn trong nhÃ³m.
- **ÄÃ³ng gÃ³p**: Chá»§ Ä‘á»™ng hÆ¡n trong viá»‡c Ä‘á» xuáº¥t cÃ¡c giáº£i phÃ¡p ká»¹ thuáº­t nháº±m giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» chung cá»§a cáº£ team vá» háº¡ táº§ng.

### Má»©c Ä‘á»™ hÃ i lÃ²ng tá»•ng thá»ƒ

- **Äiá»ƒm sá»‘**: 9.5/10
- **Äiá»ƒm ná»•i báº­t**: Ráº¥t hÃ i lÃ²ng khi hoÃ n thiá»‡n há»‡ thá»‘ng CI/CD cho Frontend vÃ  chÃ­nh thá»©c Ä‘Æ°a sáº£n pháº©m lÃªn tÃªn miá»n thá»±c (Production domain).
- **LÄ©nh vá»±c cáº§n cáº£i thiá»‡n**: Tiáº¿p tá»¥c giá»¯ vá»¯ng tinh tháº§n tÃ­ch cá»±c vÃ  Ä‘Ã  phÃ¡t triá»ƒn hiá»‡n táº¡i Ä‘á»ƒ hoÃ n thÃ nh cÃ¡c má»¥c tiÃªu tiáº¿p theo.

## ğŸ“ Tá»‡p Ä‘Ã­nh kÃ¨m & Link liÃªn káº¿t

### TÃ i nguyÃªn há»c táº­p

- [TÃ i liá»‡u AWS IAM OIDC for GitHub Actions](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc_github.html)
- [TÃ i liá»‡u AWS Route53 Alias Records](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/getting-started-alias-records.html)

### TÃ i liá»‡u há»c táº­p

- [BÃ i viáº¿t vá» cÃ¡ch quáº£n lÃ½ biáº¿n mÃ´i trÆ°á»ng trong Next.js](https://nextjs.org/docs/pages/building-your-application/configuring/environment-variables)

---

**ğŸ“ Ghi chÃº quan trá»ng cho ngÃ y mai:**
Báº¯t Ä‘áº§u triá»ƒn khai Backend Microservices lÃªn ECS, Ä‘Ã¢y sáº½ lÃ  má»™t thá»­ thÃ¡ch lá»›n.

**ğŸ¯ Tiáº¿n Ä‘á»™ so vá»›i má»¥c tiÃªu tuáº§n:**
**40%** (Frontend CI/CD completed, Custom Domain configured)

---

_Worklog created by: LÆ° Hiáº¿u Trung_  
_Next review: 23/12/2025_
