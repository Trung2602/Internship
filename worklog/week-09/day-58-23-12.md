# Worklog - NgÃ y 23/12/2025

## ğŸ“… ThÃ´ng tin cÆ¡ báº£n

- **NgÃ y**: 23/12/2025
- **Thá»©**: Thá»© Ba
- **Tuáº§n thá»±c táº­p**: 9/8
- **Thá»i gian lÃ m viá»‡c**: 18:00 - 22:00
- **Mood**: ğŸ˜ Táº­p trung cao Ä‘á»™ vá»›i cÃ¡c váº¥n Ä‘á» cáº¥u hÃ¬nh Backend trÃªn AWS.

## ğŸ¯ Má»¥c tiÃªu ngÃ y hÃ´m nay

- [x] Táº¡o ECS Cluster.
- [x] Táº¡o Task Definition vÃ  Service cho Page Service.
- [x] Cáº¥u hÃ¬nh máº¡ng (VPC, Subnets, Security Groups) cÆ¡ báº£n cho ECS vÃ  Page Service.

## ğŸ’¼ CÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n

### 1. Táº¡o vÃ  cáº¥u hÃ¬nh AWS ECS Cluster â±ï¸ 18:00 - 19:00

- **MÃ´ táº£**: ÄÃ£ táº¡o má»™t ECS Cluster má»›i (`my-event-platform-ecs-cluster`) sá»­ dá»¥ng Fargate launch type Ä‘á»ƒ khÃ´ng pháº£i quáº£n lÃ½ EC2 instances. Cáº¥u hÃ¬nh cluster vá»›i cÃ¡c thiáº¿t láº­p máº·c Ä‘á»‹nh vÃ  kiá»ƒm tra tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng.
- **Káº¿t quáº£**: ECS Cluster Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng, sáºµn sÃ ng Ä‘á»ƒ deploy cÃ¡c Microservices Backend.
- **Tools/Tech**: AWS ECS Console, Fargate.

### 2. Táº¡o Task Definition cho Page Service â±ï¸ 19:00 - 20:30

- **MÃ´ táº£**: ÄÃ£ táº¡o má»™t Task Definition má»›i (`page-service-task-definition`) cho Page Service. Cáº¥u hÃ¬nh Docker image (chá»‰ Ä‘á»‹nh ECR repo vÃ  tag - giáº£ Ä‘á»‹nh Ä‘Ã£ cÃ³ image Ä‘Æ°á»£c push lÃªn ECR), cáº¥p phÃ¡t CPU/Memory (0.5 vCPU, 1GB RAM), vÃ  Ä‘á»‹nh nghÄ©a port mappings (8080 cho Spring Boot). ÄÃ£ thiáº¿t láº­p cÃ¡c biáº¿n mÃ´i trÆ°á»ng cáº§n thiáº¿t cho Page Service (vÃ­ dá»¥: `SPRING_DATASOURCE_URL`, `SPRING_DATASOURCE_USERNAME`, `SPRING_DATASOURCE_PASSWORD` - sáº½ sá»­ dá»¥ng Secrets Manager sau).
- **Káº¿t quáº£**: Task Definition cho Page Service Ä‘Ã£ hoÃ n táº¥t, cung cáº¥p blueprint Ä‘á»ƒ cháº¡y container.
- **Tools/Tech**: AWS ECS Console, Docker, Spring Boot.

### 3. Cáº¥u hÃ¬nh VPC, Subnets vÃ  Security Groups cho ECS â±ï¸ 20:30 - 22:00

- **MÃ´ táº£**: ÄÃ£ rÃ  soÃ¡t láº¡i vÃ  tinh chá»‰nh cáº¥u hÃ¬nh máº¡ng trong VPC. Äáº£m báº£o cÃ³ public vÃ  private subnets. Táº¡o Security Group má»›i cho ECS Tasks (`page-service-sg`) Ä‘á»ƒ cho phÃ©p inbound traffic trÃªn port 8080 (táº¡m thá»i tá»« má»i nÆ¡i Ä‘á»ƒ test, sau sáº½ háº¡n cháº¿ tá»« Application Load Balancer). ÄÃ£ cáº¥u hÃ¬nh cÃ¡c private subnets cho ECS Task Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh báº£o máº­t.
- **Káº¿t quáº£**: CÃ¡c thÃ nh pháº§n máº¡ng cÆ¡ báº£n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p Ä‘á»ƒ Page Service cÃ³ thá»ƒ cháº¡y trong ECS.
- **Tools/Tech**: AWS VPC Console, Security Groups.

## ğŸ“š Kiáº¿n thá»©c há»c Ä‘Æ°á»£c

### ğŸ”§ Ká»¹ nÄƒng ká»¹ thuáº­t

- **AWS Services**: ECS (Clusters, Task Definitions, Fargate), VPC (Subnets, Security Groups).
- **Containerization**: Docker image deployment trÃªn ECS.
- **Networking**: Cáº¥u hÃ¬nh máº¡ng cho Microservices trÃªn Cloud.

### ğŸ’¡ KhÃ¡i niá»‡m vÃ  lÃ½ thuyáº¿t

- **Fargate vs EC2 Launch Type**: Hiá»ƒu sá»± khÃ¡c biá»‡t vÃ  Æ°u Ä‘iá»ƒm cá»§a Fargate cho cÃ¡c á»©ng dá»¥ng khÃ´ng cáº§n quáº£n lÃ½ server.
- **Container Orchestration**: Vai trÃ² cá»§a ECS trong viá»‡c quáº£n lÃ½ vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c container.
- **VPC Best Practices**: Quan trá»ng cá»§a viá»‡c tÃ¡ch public/private subnets vÃ  sá»­ dá»¥ng Security Groups.

### ğŸ¤ Soft Skills

- **Problem Solving**: Giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» nhá» vá» cáº¥u hÃ¬nh máº¡ng vÃ  Task Definition.
- **Attention to Detail**: Kiá»ƒm tra ká»¹ tá»«ng cáº¥u hÃ¬nh máº¡ng Ä‘á»ƒ trÃ¡nh lá»—i káº¿t ná»‘i.

## ğŸš§ KhÃ³ khÄƒn vÃ  giáº£i phÃ¡p

### Váº¥n Ä‘á» 1: Nháº§m láº«n vá» cáº¥u hÃ¬nh máº¡ng VPC cho ECS

- **MÃ´ táº£**: Ban Ä‘áº§u, tÃ´i gáº·p khÃ³ khÄƒn trong viá»‡c xÃ¡c Ä‘á»‹nh cÃ¡c private subnets vÃ  routing cho ECS Task, dáº«n Ä‘áº¿n lo ngáº¡i vá» kháº£ nÄƒng service khÃ´ng thá»ƒ truy cáº­p internet hoáº·c bá»‹ public.
- **áº¢nh hÆ°á»Ÿng**: Service cÃ³ thá»ƒ khÃ´ng cháº¡y Ä‘Æ°á»£c hoáº·c bá»‹ lá»™ thÃ´ng tin khÃ´ng cáº§n thiáº¿t.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: ChÆ°a hiá»ƒu rÃµ cÃ¡ch ECS sá»­ dá»¥ng ENI (Elastic Network Interface) vÃ  cÃ¡ch nÃ³ tÆ°Æ¡ng tÃ¡c vá»›i Subnets/Route Tables.
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: ÄÃ£ dÃ nh thá»i gian Ä‘á»c láº¡i tÃ i liá»‡u vá» Networking Modes trong ECS vÃ  cÃ¡ch Fargate tasks Ä‘Æ°á»£c gÃ¡n ENI. Äáº£m báº£o cÃ¡c private subnets cÃ³ Route Table trá» traffic ra internet thÃ´ng qua NAT Gateway Ä‘á»ƒ outbound connectivity, Ä‘á»“ng thá»i inbound traffic váº«n Ä‘Æ°á»£c kiá»ƒm soÃ¡t bá»Ÿi Security Group.
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: Hiá»ƒu rÃµ hÆ¡n vá» máº¡ng ECS vÃ  cáº¥u hÃ¬nh Ä‘Ãºng cÃ¡c private subnets cho Task.
- **BÃ i há»c rÃºt ra**: Máº¡ng lÃ  ná»n táº£ng cá»§a má»i á»©ng dá»¥ng Cloud. Cáº§n cÃ³ kiáº¿n thá»©c vá»¯ng cháº¯c vá» VPC khi triá»ƒn khai cÃ¡c há»‡ thá»‘ng phá»©c táº¡p.

### Váº¥n Ä‘á» 2: Quáº£n lÃ½ biáº¿n mÃ´i trÆ°á»ng cho database credentials trong Task Definition

- **MÃ´ táº£**: Viá»‡c hardcode database credentials vÃ o Task Definition hoáº·c truyá»n trá»±c tiáº¿p qua biáº¿n mÃ´i trÆ°á»ng lÃ  khÃ´ng an toÃ n.
- **áº¢nh hÆ°á»Ÿng**: Rá»§i ro báº£o máº­t cao, thÃ´ng tin nháº¡y cáº£m cÃ³ thá»ƒ bá»‹ lá»™.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: Thiáº¿u cÆ¡ cháº¿ quáº£n lÃ½ secrets táº­p trung ngay tá»« Ä‘áº§u.
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: Táº¡m thá»i sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ Task Definition cÃ³ thá»ƒ cháº¡y, nhÆ°ng Ä‘Ã£ lÃªn káº¿ hoáº¡ch rÃµ rÃ ng cho ngÃ y mai sáº½ tÃ­ch há»£p AWS Secrets Manager Ä‘á»ƒ láº¥y credentials má»™t cÃ¡ch an toÃ n. ÄÃ£ ghi chÃº trong Task Definition ráº±ng Ä‘Ã¢y lÃ  cáº¥u hÃ¬nh táº¡m thá»i.
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: Task Definition Ä‘Ã£ sáºµn sÃ ng, vÃ  káº¿ hoáº¡ch báº£o máº­t secrets Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t ra.
- **BÃ i há»c rÃºt ra**: LuÃ´n Æ°u tiÃªn báº£o máº­t khi lÃ m viá»‡c vá»›i thÃ´ng tin nháº¡y cáº£m trÃªn Cloud. AWS Secrets Manager lÃ  cÃ´ng cá»¥ khÃ´ng thá»ƒ thiáº¿u.

## ğŸ’­ Suy ngáº«m & Nháº­n thá»©c

### HÃ´m nay cÃ³ gÃ¬ diá»…n ra tá»‘t Ä‘áº¹p?

- ÄÃ£ thiáº¿t láº­p thÃ nh cÃ´ng ECS Cluster vÃ  Task Definition cÆ¡ báº£n cho Page Service.
- Hiá»ƒu rÃµ hÆ¡n vá» cáº¥u hÃ¬nh máº¡ng trong AWS VPC cho cÃ¡c dá»‹ch vá»¥ container.
- ÄÃ£ cÃ³ má»™t káº¿ hoáº¡ch rÃµ rÃ ng Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» quáº£n lÃ½ secrets.

### Cáº§n cáº£i thiá»‡n Ä‘iá»u gÃ¬?

- Cáº§n tá»± Ä‘á»™ng hÃ³a viá»‡c táº¡o vÃ  cáº¥u hÃ¬nh ECS thÃ´ng qua IaC (CloudFormation) cÃ ng sá»›m cÃ ng tá»‘t.
- Cáº§n Ä‘áº©y nhanh viá»‡c triá»ƒn khai AIChat Service Ä‘á»ƒ khÃ´ng bá»‹ cháº­m tiáº¿n Ä‘á»™ tá»•ng thá»ƒ.

### ThÃ´ng tin chi tiáº¿t chÃ­nh

- ECS Fargate giÃºp Ä‘Æ¡n giáº£n hÃ³a viá»‡c cháº¡y container mÃ  khÃ´ng cáº§n quáº£n lÃ½ server.
- Cáº¥u hÃ¬nh máº¡ng AWS ráº¥t quan trá»ng vÃ  cáº§n Ä‘Æ°á»£c thá»±c hiá»‡n cáº©n tháº­n.

### CÃ¢u há»i & Tháº¯c máº¯c

- LÃ m tháº¿ nÃ o Ä‘á»ƒ tÃ­ch há»£p Application Load Balancer (ALB) vá»›i ECS Service Ä‘á»ƒ Ä‘á»‹nh tuyáº¿n traffic vÃ  quáº£n lÃ½ certificate?
- CÃ³ best practices nÃ o cho viá»‡c cáº¥u trÃºc cÃ¡c Task Definition vÃ  Services khi cÃ³ nhiá»u Microservices khÃ´ng?

## ğŸ“‹ Káº¿ hoáº¡ch ngÃ y mai

### Nhiá»‡m vá»¥ Æ°u tiÃªn

- [ ] **High**: Triá»ƒn khai Page Service lÃªn AWS ECS Service, tÃ­ch há»£p vá»›i AWS Secrets Manager cho database credentials.
- [ ] **High**: Báº¯t Ä‘áº§u triá»ƒn khai AIChat Service lÃªn AWS ECS (táº¡o Task Definition, Service).
- [ ] **Medium**: Cáº¥u hÃ¬nh Application Load Balancer (ALB) cho cÃ¡c ECS Services.

### Má»¥c tiÃªu há»c táº­p

- [ ] Äá»c tÃ i liá»‡u vá» AWS Secrets Manager vÃ  tÃ­ch há»£p vá»›i ECS.
- [ ] TÃ¬m hiá»ƒu vá» Application Load Balancer vÃ  target groups.

### CÃ¡c cuá»™c há»p vÃ  thá»i háº¡n

- KhÃ´ng cÃ³ cuá»™c há»p cá»‘ Ä‘á»‹nh.

## ğŸ“Š Tá»± Ä‘Ã¡nh giÃ¡

### NÄƒng suáº¥t lÃ m viá»‡c

- **Äiá»ƒm sá»‘**: 8.5/10
- **LÃ½ do**: ÄÃ£ Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c má»¥c tiÃªu chÃ­nh trong viá»‡c triá»ƒn khai Backend, tuy nhiÃªn gáº·p má»™t chÃºt cháº­m trá»… do phÃ¡t sinh cÃ¡c váº¥n Ä‘á» vá» cáº¥u hÃ¬nh máº¡ng (networking).
- **CÃ¡ch cáº£i thiá»‡n**: Cáº§n dÃ nh thá»i gian chuáº©n bá»‹ vÃ  há»‡ thá»‘ng láº¡i kiáº¿n thá»©c vá» máº¡ng (VPC, Subnet, Routing) ká»¹ hÆ¡n trÆ°á»›c khi thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ phá»©c táº¡p.

### Há»c táº­p

- **Äiá»ƒm sá»‘**: 9/10
- **Kiáº¿n thá»©c má»›i há»c Ä‘Æ°á»£c**: Hiá»ƒu cÃ¡ch váº­n hÃ nh cá»§a AWS ECS, Fargate vÃ  cÃ¡ch cáº¥u hÃ¬nh VPC cho cÃ¡c á»©ng dá»¥ng cháº¡y trÃªn container (containerized applications).
- **CÃ¡ch Ã¡p dá»¥ng**: Thá»±c hÃ nh nhiá»u hÆ¡n vá»›i cÃ¡c ká»‹ch báº£n máº¡ng khÃ¡c nhau trÃªn AWS Ä‘á»ƒ tá»‘i Æ°u hÃ³a kháº£ nÄƒng káº¿t ná»‘i vÃ  báº£o máº­t cho Backend.

### LÃ m viá»‡c nhÃ³m

- **Äiá»ƒm sá»‘**: 8/10
- **TÆ°Æ¡ng tÃ¡c**: ÄÃ£ chá»§ Ä‘á»™ng trao Ä‘á»•i cÃ¡c khÃ³ khÄƒn vá» VPC vá»›i mentor Ä‘á»ƒ nháº­n Ä‘Æ°á»£c lá»i khuyÃªn vÃ  hÆ°á»›ng giáº£i quyáº¿t ká»‹p thá»i.
- **ÄÃ³ng gÃ³p**: Chá»§ Ä‘á»™ng ghi láº¡i vÃ  chia sáº» cÃ¡c bÆ°á»›c cáº¥u hÃ¬nh máº¡ng cá»¥ thá»ƒ Ä‘á»ƒ cÃ¡c thÃ nh viÃªn khÃ¡c trong nhÃ³m cÃ³ thá»ƒ tham kháº£o vÃ  trÃ¡nh lá»—i tÆ°Æ¡ng tá»±.

### Má»©c Ä‘á»™ hÃ i lÃ²ng tá»•ng thá»ƒ

- **Äiá»ƒm sá»‘**: 8.5/10
- **Äiá»ƒm ná»•i báº­t**: HÃ i lÃ²ng vá»›i tiáº¿n Ä‘á»™ triá»ƒn khai Backend lÃªn mÃ´i trÆ°á»ng thá»±c táº¿ máº·c dÃ¹ cÃ²n gáº·p nhiá»u thá»­ thÃ¡ch vá» háº¡ táº§ng.
- **LÄ©nh vá»±c cáº§n cáº£i thiá»‡n**: Giá»¯ vá»¯ng tinh tháº§n láº¡c quan, táº­p trung cao Ä‘á»™ Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» ká»¹ thuáº­t cÃ²n tá»“n Ä‘á»ng.

## ğŸ“ Tá»‡p Ä‘Ã­nh kÃ¨m & Link liÃªn káº¿t

### TÃ i nguyÃªn há»c táº­p

- [TÃ i liá»‡u AWS ECS Fargate](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_Fargate.html)
- [TÃ i liá»‡u AWS VPC for ECS](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-networking.html)

### TÃ i liá»‡u há»c táº­p

- [BÃ i viáº¿t vá» cÃ¡ch báº£o máº­t secrets trong ECS vá»›i Secrets Manager](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data.html)

---

**ğŸ“ Ghi chÃº quan trá»ng cho ngÃ y mai:**
Táº­p trung vÃ o viá»‡c Ä‘Æ°a Page Service hoáº¡t Ä‘á»™ng trÃªn ECS vá»›i secrets an toÃ n vÃ  báº¯t Ä‘áº§u triá»ƒn khai AIChat Service.

**ğŸ¯ Tiáº¿n Ä‘á»™ so vá»›i má»¥c tiÃªu tuáº§n:**
**55%** (ECS Cluster, Task Definition Page Service, Network config basic completed)

---

_Worklog created by: LÆ° Hiáº¿u Trung_  
_Next review: 24/12/2025_
