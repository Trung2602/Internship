# Worklog - NgÃ y 30/11/2025

## ğŸ“… ThÃ´ng tin cÆ¡ báº£n
- **NgÃ y**: 30/11/2025
- **Thá»©**: Chá»§ Nháº­t
- **Tuáº§n thá»±c táº­p**: 5/8
- **Thá»i gian lÃ m viá»‡c**: 18:00 - 22:00
- **Mood**: âœ… HoÃ n thÃ nh giai Ä‘oáº¡n phÃ¡t triá»ƒn Page Service Backend.

## ğŸ¯ Má»¥c tiÃªu ngÃ y hÃ´m nay
- [x] Implement cÆ¡ cháº¿ phÃ¢n quyá»n quáº£n trá»‹: chá»‰ Member má»›i cÃ³ quyá»n Ä‘Äƒng táº£i sá»± kiá»‡n.
- [x] Review táº¥t cáº£ cÃ¡c API cá»§a Page Service, Ä‘áº£m báº£o security vÃ  consistency.
- [x] Chuáº©n bá»‹ bÃ¡o cÃ¡o tá»•ng káº¿t tuáº§n 5.

## ğŸ’¼ CÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n

### 1. TÃ¬m hiá»ƒu Module 06 â€“ Dá»‹ch vá»¥ cÆ¡ sá»Ÿ dá»¯ liá»‡u trÃªn AWS â±ï¸ 1 tiáº¿ng

- **MÃ´ táº£**:  
    - NghiÃªn cá»©u cÃ¡c **khÃ¡i niá»‡m ná»n táº£ng vá» cÆ¡ sá»Ÿ dá»¯ liá»‡u** gá»“m Database, Session, Primary Key, Foreign Key, Index, Partition, Execution Plan, Database Log vÃ  Buffer Ä‘á»ƒ hiá»ƒu cÃ¡ch há»‡ quáº£n trá»‹ CSDL váº­n hÃ nh vÃ  tá»‘i Æ°u hiá»‡u nÄƒng.  
    - TÃ¬m hiá»ƒu sá»± khÃ¡c biá»‡t giá»¯a **RDBMS (SQL)** vÃ  **NoSQL**, cÅ©ng nhÆ° hai mÃ´ hÃ¬nh xá»­ lÃ½ dá»¯ liá»‡u chÃ­nh lÃ  **OLTP** vÃ  **OLAP**.  
    - NghiÃªn cá»©u cÃ¡c dá»‹ch vá»¥ cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Æ°á»£c quáº£n lÃ½ trÃªn AWS gá»“m **Amazon RDS**, **Amazon Aurora**, **Amazon ElastiCache** vÃ  **Amazon Redshift**, táº­p trung vÃ o kiáº¿n trÃºc, tÃ­nh nÄƒng, pháº¡m vi sá»­ dá»¥ng vÃ  cÃ¡c trÆ°á»ng há»£p Ã¡p dá»¥ng thá»±c táº¿.
- **Káº¿t quáº£**:  
    - Hiá»ƒu rÃµ cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cá»§a há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  vai trÃ² cá»§a index, partition, buffer, log trong tá»‘i Æ°u hiá»‡u nÄƒng vÃ  Ä‘á»™ sáºµn sÃ ng.  
    - PhÃ¢n biá»‡t Ä‘Æ°á»£c **RDBMS (SQL)** vÃ  **NoSQL**, cÃ¡c mÃ´ hÃ¬nh dá»¯ liá»‡u phá»• biáº¿n vÃ  kháº£ nÄƒng má»Ÿ rá»™ng.  
    - Hiá»ƒu sá»± khÃ¡c nhau giá»¯a **OLTP** (xá»­ lÃ½ giao dá»‹ch) vÃ  **OLAP** (phÃ¢n tÃ­ch dá»¯ liá»‡u), cÅ©ng nhÆ° loáº¡i workload phÃ¹ há»£p cho tá»«ng mÃ´ hÃ¬nh.  
    - Náº¯m Ä‘Æ°á»£c kiáº¿n trÃºc vÃ  tÃ­nh nÄƒng chÃ­nh cá»§a **Amazon RDS**: backup tá»± Ä‘á»™ng, Read Replica, Multi-AZ, failover, mÃ£ hÃ³a dá»¯ liá»‡u vÃ  auto scaling storage.  
    - Hiá»ƒu Æ°u Ä‘iá»ƒm ná»•i báº­t cá»§a **Amazon Aurora** nhÆ° hiá»‡u nÄƒng cao, Backtrack, Clone, Global Database vÃ  Multi-Master.  
    - Náº¯m Ä‘Æ°á»£c vai trÃ² cá»§a **Amazon ElastiCache** (Redis, Memcached) trong viá»‡c caching dá»¯ liá»‡u, giáº£m táº£i cho database chÃ­nh vÃ  cáº£i thiá»‡n Ä‘á»™ trá»….  
    - Hiá»ƒu kiáº¿n trÃºc **Amazon Redshift** (MPP, columnar storage) vÃ  pháº¡m vi sá»­ dá»¥ng trong cÃ¡c há»‡ thá»‘ng **Data Warehouse / OLAP**.
- **Tools/Tech**: Amazon RDS, Amazon Aurora, Amazon ElastiCache (Redis, Memcached), Amazon Redshift, PostgreSQL, MySQL, AWS Documentation
- **Links**:  
- [TÃ i liá»‡u RDS](https://docs.aws.amazon.com/rds/)  
- [TÃ i liá»‡u AURORA](https://docs.aws.amazon.com/aurora/)    
- [TÃ i liá»‡u Elasticache](https://docs.aws.amazon.com/elasticache/)    
- [TÃ i liá»‡u Redshift](https://docs.aws.amazon.com/redshift/) 

### 1. Implement cÆ¡ cháº¿ phÃ¢n quyá»n quáº£n trá»‹ â±ï¸ 1 tiáº¿ng
- **MÃ´ táº£**: ÄÃ£ tÃ­ch há»£p Spring Security vÃ o Page Service. Táº¡m thá»i, Ä‘á»ƒ Ä‘Æ¡n giáº£n, Ä‘Ã£ sá»­ dá»¥ng JWT token (giáº£ Ä‘á»‹nh Ä‘Æ°á»£c phÃ¡t ra tá»« má»™t Auth Service) Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng. Implement Authorization logic Ä‘á»ƒ kiá»ƒm tra vai trÃ² cá»§a ngÆ°á»i dÃ¹ng (`PageMemberRole`) trÆ°á»›c khi cho phÃ©p há» thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng nháº¥t Ä‘á»‹nh (vÃ­ dá»¥: `POST /api/v1/events` - giáº£ Ä‘á»‹nh event endpoint nÃ y sáº½ Ä‘Æ°á»£c gá»i tá»« Page Service hoáº·c Page Service sáº½ kiá»ƒm tra quyá»n trÆ°á»›c khi cho phÃ©p gá»i Event Service). Äáº£m báº£o chá»‰ nhá»¯ng ngÆ°á»i cÃ³ vai trÃ² MEMBER (hoáº·c ADMIN, EDITOR) trÃªn Page má»›i cÃ³ quyá»n nÃ y.
- **Káº¿t quáº£**: Page Service cÃ³ cÆ¡ cháº¿ phÃ¢n quyá»n cÆ¡ báº£n, Ä‘áº£m báº£o an toÃ n cho cÃ¡c thao tÃ¡c quan trá»ng.
- **Tools/Tech**: Spring Security, JWT (mock), Spring Data JPA.
- **Links**: [Code commit - Spring Security Integration & Authorization (Cáº§n thÃªm áº£nh/link)], [Screenshot Postman test - Unauthorized Access (Cáº§n thÃªm áº£nh/link)]

### 2. Review táº¥t cáº£ cÃ¡c API cá»§a Page Service â±ï¸ 1.5 tiáº¿ng
- **MÃ´ táº£**: ÄÃ£ tiáº¿n hÃ nh review toÃ n bá»™ cÃ¡c API endpoint Ä‘Ã£ triá»ƒn khai (Page CRUD, Page Member, Page Follower) Ä‘á»ƒ Ä‘áº£m báº£o:
    - Consistency: Endpoint naming, request/response format nháº¥t quÃ¡n.
    - Security: CÃ¡c endpoint nháº¡y cáº£m Ä‘Æ°á»£c báº£o vá»‡ bá»Ÿi authentication/authorization.
    - Error Handling: CÃ¡c trÆ°á»ng há»£p lá»—i Ä‘Æ°á»£c xá»­ lÃ½ vÃ  tráº£ vá» mÃ£ tráº¡ng thÃ¡i HTTP thÃ­ch há»£p.
- **Káº¿t quáº£**: Page Service APIs Ä‘Ã£ Ä‘Æ°á»£c cá»§ng cá»‘ vá» máº·t báº£o máº­t vÃ  tÃ­nh nháº¥t quÃ¡n.
- **Tools/Tech**: Postman, Swagger UI, IntelliJ IDEA.
- **Links**: [API Review Checklist (Cáº§n thÃªm áº£nh/link)]

### 3. Chuáº©n bá»‹ bÃ¡o cÃ¡o tá»•ng káº¿t tuáº§n 5 â±ï¸ 0.5 tiáº¿ng
- **MÃ´ táº£**: ÄÃ£ tá»•ng há»£p táº¥t cáº£ cÃ¡c cÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n trong tuáº§n 5 (24/11 - 30/11). Bao gá»“m viá»‡c hoÃ n thiá»‡n giao diá»‡n Frontend 70% vÃ  demo, sau Ä‘Ã³ chuyá»ƒn sang phÃ¡t triá»ƒn Page Service Backend (CRUD Pages, Page Members, Page Followers, vÃ  phÃ¢n quyá»n quáº£n trá»‹). ÄÃ¡nh giÃ¡ cÃ¡c thÃ nh tá»±u, thÃ¡ch thá»©c, bÃ i há»c vÃ  ká»¹ nÄƒng há»c Ä‘Æ°á»£c.
- **Káº¿t quáº£**: BÃ¡o cÃ¡o tá»•ng káº¿t tuáº§n 5 Ä‘Ã£ hoÃ n thÃ nh, sáºµn sÃ ng cho viá»‡c trÃ¬nh bÃ y.
- **Tools/Tech**: Markdown, Google Docs.
- **Links**: [Link bÃ¡o cÃ¡o tá»•ng káº¿t tuáº§n 5 (Cáº§n thÃªm áº£nh/link)]

## ğŸ“š Kiáº¿n thá»©c há»c Ä‘Æ°á»£c

### ğŸ”§ Ká»¹ nÄƒng ká»¹ thuáº­t
- **Spring Security**: TÃ­ch há»£p xÃ¡c thá»±c vÃ  phÃ¢n quyá»n vÃ o Spring Boot.
- **Role-Based Access Control (RBAC)**: Implement cÆ¡ cháº¿ kiá»ƒm soÃ¡t truy cáº­p dá»±a trÃªn vai trÃ².
- **API Security Best Practices**: Äáº£m báº£o cÃ¡c API Ä‘Æ°á»£c báº£o vá»‡ Ä‘Ãºng cÃ¡ch.

### ğŸ’¡ KhÃ¡i niá»‡m vÃ  lÃ½ thuyáº¿t
- **Authentication vs Authorization**: Hiá»ƒu rÃµ sá»± khÃ¡c biá»‡t vÃ  cÃ¡ch chÃºng hoáº¡t Ä‘á»™ng cÃ¹ng nhau.
- **Microservice Security**: CÃ¡c thÃ¡ch thá»©c báº£o máº­t trong kiáº¿n trÃºc Microservices.

### ğŸ¤ Soft Skills
- **Critical Thinking**: ÄÃ¡nh giÃ¡ API tá»« gÃ³c Ä‘á»™ báº£o máº­t vÃ  hiá»‡u quáº£.
- **Time Management**: HoÃ n thÃ nh cÃ¡c má»¥c tiÃªu quan trá»ng trong tuáº§n.

## ğŸš§ KhÃ³ khÄƒn vÃ  giáº£i phÃ¡p

### Váº¥n Ä‘á» 1: TÃ­ch há»£p Spring Security vá»›i User Service chÆ°a tá»“n táº¡i
- **MÃ´ táº£**: Spring Security cáº§n má»™t `UserDetailsService` Ä‘á»ƒ táº£i thÃ´ng tin ngÆ°á»i dÃ¹ng. Hiá»‡n táº¡i, User Service chÆ°a Ä‘Æ°á»£c phÃ¡t triá»ƒn.
- **áº¢nh hÆ°á»Ÿng**: KhÃ´ng thá»ƒ kiá»ƒm tra Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng xÃ¡c thá»±c/phÃ¢n quyá»n trong má»™t mÃ´i trÆ°á»ng thá»±c táº¿.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: User Service lÃ  má»™t dependency tá»« service khÃ¡c.
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: ÄÃ£ táº¡o má»™t `InMemoryUserDetailsManager` hoáº·c mock `UserDetailsService` Ä‘á»ƒ kiá»ƒm thá»­ cá»¥c bá»™. Giáº£ Ä‘á»‹nh ráº±ng JWT token sáº½ chá»©a thÃ´ng tin `userId` vÃ  `roles` Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c bá»Ÿi User Service. Logic phÃ¢n quyá»n sáº½ dá»±a trÃªn cÃ¡c thÃ´ng tin nÃ y tá»« JWT.
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: CÆ¡ cháº¿ phÃ¢n quyá»n hoáº¡t Ä‘á»™ng vá»›i giáº£ Ä‘á»‹nh vá» thÃ´ng tin ngÆ°á»i dÃ¹ng.
- **BÃ i há»c rÃºt ra**: Khi phÃ¡t triá»ƒn Microservices, cáº§n nháº­n diá»‡n cÃ¡c dependency vÃ  sá»­ dá»¥ng mocks/giáº£ Ä‘á»‹nh cho Ä‘áº¿n khi cÃ¡c service phá»¥ thuá»™c sáºµn sÃ ng.

### Váº¥n Ä‘á» 2: Äáº£m báº£o phÃ¢n quyá»n chi tiáº¿t (granular authorization)
- **MÃ´ táº£**: YÃªu cáº§u "chá»‰ Member má»›i cÃ³ quyá»n Ä‘Äƒng táº£i sá»± kiá»‡n" Ä‘Ã²i há»i kiá»ƒm tra xem ngÆ°á»i dÃ¹ng hiá»‡n táº¡i cÃ³ pháº£i lÃ  thÃ nh viÃªn cá»§a Page cá»¥ thá»ƒ Ä‘Ã³ hay khÃ´ng, vá»›i vai trÃ² Ä‘á»§ quyá»n háº¡n.
- **áº¢nh hÆ°á»Ÿng**: Lá»—i báº£o máº­t náº¿u kiá»ƒm tra khÃ´ng Ä‘Ãºng.
- **NguyÃªn nhÃ¢n gá»‘c rá»…**: Logic phÃ¢n quyá»n cáº§n káº¿t há»£p cáº£ thÃ´ng tin vá» vai trÃ² ngÆ°á»i dÃ¹ng vÃ  tÃ i nguyÃªn Ä‘Æ°á»£c truy cáº­p.
- **CÃ¡ch giáº£i quyáº¿t Ä‘Ã£ Ã¡p dá»¥ng**: ÄÃ£ sá»­ dá»¥ng `@PreAuthorize` annotation cá»§a Spring Security Ä‘á»ƒ kiá»ƒm tra quyá»n. VÃ­ dá»¥: `@PreAuthorize("hasRole('MEMBER') and @pageSecurity.isMember(#pageSlug, authentication.principal.id)")`. Táº¡o má»™t `@Service` bean `pageSecurity` Ä‘á»ƒ chá»©a logic kiá»ƒm tra xem ngÆ°á»i dÃ¹ng cÃ³ pháº£i lÃ  thÃ nh viÃªn cá»§a Page cá»¥ thá»ƒ vá»›i vai trÃ² há»£p lá»‡ khÃ´ng.
- **Káº¿t quáº£ sau khi giáº£i quyáº¿t**: CÆ¡ cháº¿ phÃ¢n quyá»n Ä‘Ã£ Ä‘Æ°á»£c implement chi tiáº¿t.
- **BÃ i há»c rÃºt ra**: PhÃ¢n quyá»n phá»©c táº¡p cáº§n Ä‘Æ°á»£c thiáº¿t káº¿ cáº©n tháº­n, káº¿t há»£p Spring Security vá»›i logic nghiá»‡p vá»¥ tÃ¹y chá»‰nh.

## ğŸ’­ Suy ngáº«m & Nháº­n thá»©c

### HÃ´m nay cÃ³ gÃ¬ diá»…n ra tá»‘t Ä‘áº¹p?
- Page Service Ä‘Ã£ cÃ³ cÆ¡ cháº¿ phÃ¢n quyá»n quáº£n trá»‹, lÃ  má»™t bÆ°á»›c tiáº¿n lá»›n vá» báº£o máº­t.
- Táº¥t cáº£ cÃ¡c API cá»§a Page Service Ä‘Ã£ Ä‘Æ°á»£c review vÃ  cá»§ng cá»‘.
- Giai Ä‘oáº¡n phÃ¡t triá»ƒn Page Service Backend Ä‘Ã£ hoÃ n thÃ nh xuáº¥t sáº¯c.

### Cáº§n cáº£i thiá»‡n Ä‘iá»u gÃ¬?
- Cáº§n tiáº¿p tá»¥c phÃ¡t triá»ƒn AIChat Service (timeline 01/12 - 07/12).
- Cáº§n tÃ­ch há»£p Page Service vá»›i cÃ¡c Authentication Service thá»±c táº¿ sau nÃ y.

### ThÃ´ng tin chi tiáº¿t chÃ­nh
- Spring Security lÃ  má»™t framework máº¡nh máº½ cho báº£o máº­t Spring Boot, nhÆ°ng cáº§n hiá»ƒu rÃµ cÃ¡ch cáº¥u hÃ¬nh cho Microservices.
- PhÃ¢n quyá»n chi tiáº¿t Ä‘Ã²i há»i káº¿t há»£p `@PreAuthorize` vá»›i logic nghiá»‡p vá»¥ tÃ¹y chá»‰nh.

### CÃ¢u há»i & Tháº¯c máº¯c
- LÃ m tháº¿ nÃ o Ä‘á»ƒ quáº£n lÃ½ cÃ¡c vai trÃ² vÃ  quyá»n háº¡n trong má»™t há»‡ thá»‘ng Microservices phÃ¢n tÃ¡n?
- CÃ³ best practices nÃ o cho viá»‡c truyá»n thÃ´ng tin xÃ¡c thá»±c (vÃ­ dá»¥: JWT) giá»¯a cÃ¡c Microservices?

## ğŸ“‹ Káº¿ hoáº¡ch ngÃ y mai

### Nhiá»‡m vá»¥ Æ°u tiÃªn
- [ ] **High**: Báº¯t Ä‘áº§u Giai Ä‘oáº¡n 3: PhÃ¡t triá»ƒn AIChat Service (nhÃºng Google AI Studio, Kafka Consumer).
- [ ] **Medium**: Tá»•ng káº¿t toÃ n bá»™ Giai Ä‘oáº¡n 3 cho Page Service.
- [ ] **Low**: TÃ¬m hiá»ƒu vá» kiáº¿n trÃºc cá»§a Google AI Studio.

### Má»¥c tiÃªu há»c táº­p
- [ ] Äá»c tÃ i liá»‡u vá» Google AI Studio API.
- [ ] TÃ¬m hiá»ƒu vá» Kafka Consumer trong Spring Boot.

### CÃ¡c cuá»™c há»p vÃ  thá»i háº¡n
- KhÃ´ng cÃ³ cuá»™c há»p cá»‘ Ä‘á»‹nh.

## ğŸ“Š Tá»± Ä‘Ã¡nh giÃ¡

### NÄƒng suáº¥t
- **Äiá»ƒm**: 9.5/10
- **LÃ½ do**: HoÃ n thÃ nh xuáº¥t sáº¯c má»¥c tiÃªu phÃ¢n quyá»n vÃ  review API, káº¿t thÃºc giai Ä‘oáº¡n Page Service Backend.
- **CÃ¡ch cáº£i thiá»‡n**: CÃ³ thá»ƒ dÃ nh thÃªm thá»i gian nghiÃªn cá»©u vá» chiáº¿n lÆ°á»£c tÃ­ch há»£p báº£o máº­t giá»¯a cÃ¡c Microservices.

### Há»c há»i
- **Äiá»ƒm**: 9.5/10
- **LÃ½ do**: Há»c Ä‘Æ°á»£c nhiá»u vá» Spring Security, phÃ¢n quyá»n chi tiáº¿t vÃ  cÃ¡c thÃ¡ch thá»©c báº£o máº­t trong Microservices.
- **CÃ¡ch cáº£i thiá»‡n**: NghiÃªn cá»©u sÃ¢u hÆ¡n vá» cÃ¡c pattern Authorization trong kiáº¿n trÃºc phÃ¢n tÃ¡n.

### Há»£p tÃ¡c
- **Äiá»ƒm**: 9/10
- **LÃ½ do**: ÄÃ£ chia sáº» API cuá»‘i cÃ¹ng cá»§a Page Service vá»›i team Frontend.
- **CÃ¡ch cáº£i thiá»‡n**: Chá»§ Ä‘á»™ng há»i feedback tá»« team vá» API Security.

### Má»©c Ä‘á»™ hÃ i lÃ²ng tá»•ng thá»ƒ
- **Äiá»ƒm**: 9.5/10
- **LÃ½ do**: Ráº¥t hÃ i lÃ²ng khi Page Service Backend Ä‘Ã£ hoÃ n thÃ nh, bao gá»“m cáº£ báº£o máº­t.
- **CÃ¡ch cáº£i thiá»‡n**: Duy trÃ¬ sá»± táº­p trung Ä‘á»ƒ báº¯t Ä‘áº§u phÃ¡t triá»ƒn AIChat Service.

## ğŸ“ Tá»‡p Ä‘Ã­nh kÃ¨m & Link liÃªn káº¿t

### TÃ i nguyÃªn há»c táº­p
- [Spring Security Documentation](https://docs.spring.io/spring-security/reference/servlet/authorization/method.html)
- [Role-Based Access Control (RBAC)](https://www.okta.com/identity-101/role-based-access-control-rbac/)
- [Ghi chÃº vá» lÃ½ thuyáº¿t Module 06](https://docs.google.com/document/d/1pbnuA5SPBX-hbAty9dWbpOft7Uo4SV_T/edit?usp=drive_link&ouid=117802343281233535102&rtpof=true&sd=true)

#### - Danh sÃ¡ch cÃ¡c video Ä‘Ã£ xem:
- [Database Concepts review](https://www.youtube.com/watch?v=OOD2RwWuLRw&list=PLahN4TLWtox2a3vElknwzU_urND8hLn1i&index=217)
- [Amazon RDS & Amazon Aurora](https://www.youtube.com/watch?v=qbrobQZrokY&list=PLahN4TLWtox2a3vElknwzU_urND8hLn1i&index=218)
- [Redshift - Elasticache](https://www.youtube.com/watch?v=UvdiRW34aNI&list=PLahN4TLWtox2a3vElknwzU_urND8hLn1i&index=219)

### TÃ i liá»‡u há»c táº­p
- [BÃ i viáº¿t vá» `Method Security` in Spring](https://www.baeldung.com/spring-security-method-security)

---

**ğŸ“ Ghi chÃº quan trá»ng cho ngÃ y mai:**
ChÃ­nh thá»©c báº¯t Ä‘áº§u Giai Ä‘oáº¡n 3: PhÃ¡t triá»ƒn AIChat Service Backend.

**ğŸ¯ Tiáº¿n Ä‘á»™ so vá»›i má»¥c tiÃªu tuáº§n:**
**100%** (Page Service Backend completed, including authorization)

---
_Worklog created by: LÆ° Hiáº¿u Trung_
_Next review: 01/12/2025_